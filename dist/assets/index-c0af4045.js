import{_ as V}from"./users-cog-duotone-50670cb2.js";import{_ as k,r as n,o as c,c as r,a as e,b as l,d as w,F as C,h as U,i as D,e as S,j as h,t as d}from"./index-c80e8212.js";const g="/assets/envelope-solid-83ddb2ac.svg",A="/assets/share-from-square-solid-59b40d2c.svg";const K={name:"mail-manage-inex",data(){return{modalAlert:{showModal:!1,title:"",message:""},showLoading:!1,data:{search:"",table:[],page:1,total:0,lastPage:0,perPage:10,department_full_name:"Test"}}},methods:{addClick(){this.$router.push({name:"user-manage-create"}).catch(()=>{})},listClick(a){this.$router.push({name:"automail-sendmail-list",params:{id:a.id},query:{page:this.data.page,perPage:this.data.perPage}}).catch(()=>{})},pageChange(a){this.data.perPage=a.perPage,this.data.page=a.page,this.apiUser()},search(){this.data.status=!0,this.data.perPage=10,this.data.page=1,this.apiUser()},apiUser(){this.data.table=[],this.showLoading=!0,this.axios.get("/user",{params:{keyword:this.data.search,page_size:this.data.perPage,page:this.data.page}}).then(a=>{this.showLoading=!1,a.data.data.filter(s=>{s.permission_id=s.role_id,s.permission_name=s.role_name,this.data.total=s.total}),this.data.table=a.data.data,this.data.lastPage=Math.ceil(this.data.total/this.data.perPage)}).catch(a=>{this.showLoading=!1,this.modalAlert={showModal:!0,type:"error",title:"Error",message:a.response.data.message}})},sendmailClick(a){this.$router.push({name:"automail-sendmail-edit",params:{id:a.id},query:{page:this.data.page,perPage:this.data.perPage}}).catch(()=>{})}},mounted(){var a,s;this.data.page=((a=this.$route.query)==null?void 0:a.page)||this.data.page,this.data.perPage=((s=this.$route.query)==null?void 0:s.perPage)||this.data.perPage,this.apiUser()}},L={class:"mail-inex"},q={class:"group-overflow"},N={class:"detail"},T=S('<div class="group-head"><div class="group-first"><img src="'+V+'" alt="" class="icon-users-cog"><div class="name">รายการหนังสือส่งออก ที่ส่งผ่านอีเมลอัตโนมัติ</div></div></div><div class="line"></div>',2),F={class:"group-detail"},M={class:"group-between"},x={class:"group-input left"},B=e("div",{class:"name"},"ทะเบียน ",-1),I={class:"group-input"},O=e("div",{class:"name"},"เลขออก สลค.",-1),E={class:"group-between"},j={class:"group-input"},z=e("div",{class:"name"},"เรื่อง",-1),G={class:"group-between"},H={class:"group-input left"},J=e("div",{class:"name"},"จาก",-1),Q={class:"group-input"},R=e("div",{class:"name"},"ถึง",-1),W={class:"group-between"},X={class:"group-input left"},Y=e("div",{class:"name"},"จากวันที่",-1),Z={class:"group-input"},$=e("div",{class:"name"},"ถึงวันที่",-1),ee={class:"group-button"},te={class:"button-left"},se=e("i",{class:"bi bi-arrow-clockwise icon-clockwise"},null,-1),ae=e("div",{class:"button-right"},[e("button",{type:"submit",class:"button-search"},[e("i",{class:"bi bi-search icon-search"}),h(" ค้นหา ")])],-1),oe={class:"group-body"},le={class:"table-department-inex"},ne=e("thead",{class:"thead"},[e("tr",{class:"thead-row"},[e("th",{class:"col1"},"ลำดับ"),e("th",{class:"col2"},"ความเร่งด่วน"),e("th",{class:"col3"},"ชั้นความลับ"),e("th",{class:"col4"},"เลขออก สลค."),e("th",{class:"col5"},"ทะเบียนหนังสือ"),e("th",{class:"col6"},"ชื่อเรื่อง"),e("th",{class:"col7"},"ชนิดหนังสือ"),e("th",{class:"col8"},"ลงวันที่"),e("th",{class:"col9"},"จาก"),e("th",{class:"col10"},"ถึง"),e("th",{class:"col11"},[e("img",{src:g,alt:"",class:"icon-send"})])])],-1),de={class:"tbody"},ie={class:"col1"},ce={class:"col2"},re=e("td",{class:"col3"},[e("div",{class:"new-line"},[e("div",{class:"name"},"ส่งถึง (TO)")])],-1),pe={class:"col4"},_e={class:"col5"},ue=e("td",{class:"col6"},[e("div",{class:"new-line"},[e("div",{class:"name"},"ส่งถึง (TO)")])],-1),me={class:"col7"},he={class:"col8"},ge=e("td",{class:"col9"},[e("div",{class:"new-line"},[e("div",{class:"name"},"ส่งถึง (TO)")])],-1),ve={class:"col10"},be={class:"col11"},fe={class:"group-icon"},ye=["onClick"],Pe=["onClick"],Ve={key:0,class:"tbody-row"},ke=e("td",{colspan:"12"},"ไม่มีข้อมูล",-1),we=[ke],Ce={class:"group-footer"};function Ue(a,s,De,Se,t,p){const _=n("cpn-autoComplete"),u=n("cpn-input"),m=n("cpn-datepicker"),v=n("Form"),b=n("cpn-pagination"),f=n("cpn-modal-alert"),y=n("cpn-loading");return c(),r("div",L,[e("div",q,[e("div",N,[T,l(v,{onSubmit:a.apiMailAddress,onInvalidSubmit:a.onInvalidSubmit},{default:w(()=>[e("div",F,[e("div",M,[e("div",x,[B,l(_,{modelValue:t.data.record,"onUpdate:modelValue":s[0]||(s[0]=o=>t.data.record=o),name:"record",onKeyupData:a.keyupData,placeholder:"กรุณาระบุ"},null,8,["modelValue","onKeyupData"])]),e("div",I,[O,l(u,{modelValue:t.data.doc_num,"onUpdate:modelValue":s[1]||(s[1]=o=>t.data.doc_num=o),name:"doc_num",placeholder:"กรุณาระบุ"},null,8,["modelValue"])])]),e("div",E,[e("div",j,[z,l(u,{modelValue:t.data.name,"onUpdate:modelValue":s[2]||(s[2]=o=>t.data.name=o),name:"name",placeholder:"กรุณาระบุ"},null,8,["modelValue"])])]),e("div",G,[e("div",H,[J,l(_,{modelValue:t.data.send_from,"onUpdate:modelValue":s[3]||(s[3]=o=>t.data.send_from=o),name:"send_from",onKeyupData:a.keyupData,placeholder:"กรุณาระบุ"},null,8,["modelValue","onKeyupData"])]),e("div",Q,[R,l(_,{modelValue:t.data.send_to,"onUpdate:modelValue":s[4]||(s[4]=o=>t.data.send_to=o),name:"send_to",onKeyupData:a.keyupData,placeholder:"เลือกหน่วยงานปลายทาง"},null,8,["modelValue","onKeyupData"])])]),e("div",W,[e("div",X,[Y,l(m,{modelValue:t.data.start_date,"onUpdate:modelValue":s[5]||(s[5]=o=>t.data.start_date=o),name:"start_date",placeholder:"กรุณาระบุ"},null,8,["modelValue"])]),e("div",Z,[$,l(m,{modelValue:t.data.end_date,"onUpdate:modelValue":s[6]||(s[6]=o=>t.data.end_date=o),name:"end_date",placeholder:"กรุณาระบุ"},null,8,["modelValue"])])]),e("div",ee,[e("div",te,[e("button",{type:"button",class:"button-warning",onClick:s[7]||(s[7]=o=>a.cancelClick())},[se,h(" ล้างการค้นหา ")])]),ae])])]),_:1},8,["onSubmit","onInvalidSubmit"]),e("div",oe,[e("table",le,[ne,e("tbody",de,[(c(!0),r(C,null,U(t.data.table,(o,i)=>(c(),r("tr",{class:"tbody-row",key:i},[e("td",ie,d(i+1+t.data.perPage*(t.data.page-1)),1),e("td",ce,d(t.data.department_full_name),1),re,e("td",pe,d(i+1+t.data.perPage*(t.data.page-1)),1),e("td",_e,d(t.data.department_full_name),1),ue,e("td",me,d(i+1+t.data.perPage*(t.data.page-1)),1),e("td",he,d(t.data.department_full_name),1),ge,e("td",ve,d(t.data.department_full_name),1),e("td",be,[e("div",fe,[e("img",{onClick:P=>p.listClick(o),src:A,alt:"",class:"icon-send pointer"},null,8,ye),e("img",{onClick:P=>p.sendmailClick(o),src:g,alt:"",class:"icon-send pointer"},null,8,Pe)])])]))),128)),t.data.table.length==0?(c(),r("tr",Ve,we)):D("",!0)])])]),e("div",Ce,[l(b,{page:t.data.page,total:t.data.total,lastPage:t.data.lastPage,perPage:t.data.perPage,onPageChange:p.pageChange},null,8,["page","total","lastPage","perPage","onPageChange"])])])]),l(f,{modalAlert:t.modalAlert},null,8,["modalAlert"]),l(y,{show:t.showLoading},null,8,["show"])])}const Le=k(K,[["render",Ue]]);export{Le as default};
