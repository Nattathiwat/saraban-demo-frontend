import{_ as b,a as v,b as f}from"./line-up-32057639.js";import{_ as w,r as l,o as y,c as V,a as s,t as m,j as n,b as i,d as k,g as A,k as S}from"./index-5198febd.js";const L={name:"subministry-detail",data(){return{modalAlert:{showModal:!1,title:"",message:""},showLoading:!1,edit:!1,data:{code:"",subminist_short_name:"",subminist_name:"",subminist_description:""}}},methods:{back(){this.$router.push({name:"subministry"}).catch(()=>{})},cancelClick(){this.back(),this.data.code="",this.data.subminist_short_name="",this.data.subminist_name=""},onSubmit(){let t=this;this.modalAlert={showModal:!0,type:"confirm",title:`คุณยืนยันการ${this.edit?"แก้ไขกอง":"สร้างกอง"}หรือไม่`,confirm:!0,msgSuccess:!0,afterPressAgree(){if(t.edit){let e={code:t.data.code,Name:t.data.subminist_name,short_name:t.data.subminist_short_name,desc:t.data.subminist_description};t.showLoading=!0,t.axios.put(`/subministry/${t.$route.params.id}`,e).then(()=>{t.showLoading=!1,t.modalAlert={showModal:!0,type:"success",title:"ทำการแก้ไขกองสำเร็จแล้ว",msgSuccess:!0,afterPressAgree(){t.back()}}}).catch(d=>{t.showLoading=!1,t.modalAlert={showModal:!0,type:"error",title:"Error",message:d.response.data.message}})}else{let e={code:t.data.code,Name:t.data.subminist_name,short_name:t.data.subminist_short_name,desc:t.data.subminist_description};t.showLoading=!0,t.axios.post("/subministry",e).then(()=>{t.showLoading=!1,t.modalAlert={showModal:!0,type:"success",title:"ทำการสร้างกองสำเร็จแล้ว",msgSuccess:!0,afterPressAgree(){t.back()}}}).catch(d=>{t.showLoading=!1,t.modalAlert={showModal:!0,type:"error",title:"Error",message:d.response.data.message}})}}}},apiDetail(){this.showLoading=!0,this.axios.get(`/subministry/${this.$route.params.id}`).then(t=>{this.showLoading=!1,this.data.code=t.data.data.code,this.data.short_name=t.data.data.subministy_short_name,this.data.Name=t.data.data.subminist_name,this.data.desc=t.data.data.subminist_description}).catch(t=>{this.showLoading=!1,this.modalAlert={showModal:!0,type:"error",title:"Error",message:t.response.data.message}})}},mounted(){this.$route.params.id?(this.edit=!0,this.apiDetail()):this.edit=!1}},C={class:"master-submin-detail"},q={class:"group-overflow"},x={class:"detail"},M={class:"group-head"},N={class:"group-first"},U=s("img",{src:b,alt:"",class:"icon-users"},null,-1),E={class:"name"},B={class:"group-end"},D=s("img",{src:v,class:"icon-back"},null,-1),I=s("img",{src:f,class:"icon-line"},null,-1),P=s("div",{class:"line"},null,-1),F={class:"group-detail"},j={class:"group-between"},T={class:"group-input left"},z=s("div",{class:"name"},[n("รหัสกอง"),s("span",{class:"required"},"*")],-1),G={class:"group-input"},H=s("div",{class:"name"},[n("เปิด/ปิดการใช้งาน"),s("span",{class:"required"},"*")],-1),J={class:"group-between"},K={class:"group-input"},O=s("div",{class:"name"},[n("ชื่อกอง "),s("span",{class:"required"},"*")],-1),Q={class:"group-input"},R=s("div",{class:"name"},[n("ชื่อย่อกอง "),s("span",{class:"required"},"*")],-1),W={class:"group-between"},X={class:"group-input"},Y=s("div",{class:"name"},"รายละเอียด",-1),Z=s("div",{class:"line"},null,-1),$={class:"group-footer"},ss={class:"footer-left"},ts=s("img",{src:A,alt:"times-circle",class:"icon-times-circle"},null,-1),es={class:"footer-right"},os={type:"submit",class:"button-success"},as=s("img",{src:S,alt:"times-circle",class:"icon-check-circle"},null,-1);function is(t,e,d,ns,o,r){const c=l("cpn-input"),u=l("cpn-toggleSwitch"),_=l("cpn-textArea"),h=l("Form"),p=l("cpn-modal-alert"),g=l("cpn-loading");return y(),V("div",C,[s("div",q,[s("div",x,[s("div",M,[s("div",N,[U,s("div",E,m(o.edit?"แก้ไขกอง":"สร้างกอง"),1)]),s("div",B,[s("button",{type:"button",class:"button-back",onClick:e[0]||(e[0]=a=>r.back())},[D,I,n(" ย้อนกลับ ")])])]),P,i(h,{onSubmit:r.onSubmit,onInvalidSubmit:t.onInvalidSubmit},{default:k(()=>[s("div",F,[s("div",j,[s("div",T,[z,i(c,{modelValue:o.data.code,"onUpdate:modelValue":e[1]||(e[1]=a=>o.data.code=a),name:"department_id",rules:"required",placeholder:"กรุณาระบุ"},null,8,["modelValue"])]),s("div",G,[H,i(u,{modelValue:t.input11,"onUpdate:modelValue":e[2]||(e[2]=a=>t.input11=a),name:"input11",class:"",style:{},disabled:!1,onChange:t.change},null,8,["modelValue","onChange"])])]),s("div",J,[s("div",K,[O,i(c,{modelValue:o.data.subminist_name,"onUpdate:modelValue":e[3]||(e[3]=a=>o.data.subminist_name=a),name:"subminist_name",rules:"required",placeholder:"กรุณาระบุ"},null,8,["modelValue"])]),s("div",Q,[R,i(c,{modelValue:o.data.subminist_short_name,"onUpdate:modelValue":e[4]||(e[4]=a=>o.data.subminist_short_name=a),name:"subminist_short_name",rules:"required",placeholder:"กรุณาระบุ"},null,8,["modelValue"])])]),s("div",W,[s("div",X,[Y,i(_,{modelValue:o.data.subminist_description,"onUpdate:modelValue":e[5]||(e[5]=a=>o.data.subminist_description=a),name:"subminist_description",rows:"4",placeholder:"กรุณาระบุ"},null,8,["modelValue"])])])]),Z,s("div",$,[s("div",ss,[s("button",{type:"button",class:"button-danger",onClick:e[6]||(e[6]=a=>r.cancelClick())},[ts,n(" ยกเลิก ")])]),s("div",es,[s("button",os,[as,n(" "+m(o.edit?"ยืนยันแก้ไขกอง":"ยืนยันสร้างกอง"),1)])])])]),_:1},8,["onSubmit","onInvalidSubmit"])])]),i(p,{modalAlert:o.modalAlert},null,8,["modalAlert"]),i(g,{show:o.showLoading},null,8,["show"])])}const rs=w(L,[["render",is]]);export{rs as default};
