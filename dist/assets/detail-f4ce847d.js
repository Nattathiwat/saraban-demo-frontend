import{_ as v,a as y,b as k}from"./line-up-32057639.js";import{_ as f,r as l,o as w,c as V,a as e,t as _,j as d,b as i,d as S,g as A,k as L}from"./index-5198febd.js";const x={name:"book-type-detail",data(){return{modalAlert:{showModal:!1,title:"",message:""},showLoading:!1,edit:!1,data:{code:"",book_type_name:"",description:"",optionSelect:{book_type_record:[{name:"หนังสือรับเข้า",value:"0"},{name:"หนังสือส่งออก",value:"1"}]}}}},methods:{back(){this.$router.push({name:"book-type"}).catch(()=>{})},cancelClick(){this.back(),this.data.code="",this.data.book_type_name="",this.data.description=""},onSubmit(){let t=this;this.modalAlert={showModal:!0,type:"confirm",title:`คุณยืนยันการ${this.edit?"แก้ไขชนิดหนังสือ":"สร้างชนิดหนังสือ"}หรือไม่`,confirm:!0,msgSuccess:!0,afterPressAgree(){if(t.edit){let o={code:t.data.code,name:t.data.book_type_name,desc:t.data.description,type:t.data.book_type_record};t.showLoading=!0,t.axios.put(`/booktype/${t.$route.params.id}`,o).then(()=>{t.showLoading=!1,t.modalAlert={showModal:!0,type:"success",title:"ทำการแก้ไขชนิดหนังสือสำเร็จแล้ว",msgSuccess:!0,afterPressAgree(){t.back()}}}).catch(n=>{t.showLoading=!1,t.modalAlert={showModal:!0,type:"error",title:"Error",message:n.response.data.message}})}else{let o={code:t.data.code,name:t.data.book_type_name,desc:t.data.description,type:t.data.book_type_record};t.showLoading=!0,t.axios.post("/booktype",o).then(()=>{t.showLoading=!1,t.modalAlert={showModal:!0,type:"success",title:"ทำการสร้างชนิดหนังสือสำเร็จแล้ว",msgSuccess:!0,afterPressAgree(){t.back()}}}).catch(n=>{t.showLoading=!1,t.modalAlert={showModal:!0,type:"error",title:"Error",message:n.response.data.message}})}}}},apiDetail(){this.showLoading=!0,this.axios.get(`/booktype/${this.$route.params.id}`).then(t=>{this.showLoading=!1,this.data.code=t.data.data.code,this.data.name=t.data.data.book_type_name,this.data.desc=t.data.data.description,this.data.type=t.data.book_type_record}).catch(t=>{this.showLoading=!1,this.modalAlert={showModal:!0,type:"error",title:"Error",message:t.response.data.message}})}},mounted(){this.$route.params.id?(this.edit=!0,this.apiDetail()):this.edit=!1}},C={class:"master-book-type-detail"},M={class:"group-overflow"},q={class:"detail"},U={class:"group-head"},E={class:"group-first"},B=e("img",{src:v,alt:"",class:"icon-users"},null,-1),D={class:"name"},I={class:"group-end"},N=e("img",{src:y,class:"icon-back"},null,-1),P=e("img",{src:k,class:"icon-line"},null,-1),F=e("div",{class:"line"},null,-1),j={class:"group-detail"},T={class:"group-between"},z={class:"group-input left"},G=e("div",{class:"name"},[d("เลขชนิดหนังสือ"),e("span",{class:"required"},"*")],-1),H={class:"group-input"},J=e("div",{class:"name"},"เปิด/ปิด การใช้งาน",-1),K={class:"group-between"},O={class:"group-input left"},Q=e("div",{class:"name"},[d("ชื่อชนิดหนังสือ"),e("span",{class:"required"},"*")],-1),R={class:"group-input"},W=e("div",{class:"name"},[d("ทะเบียน "),e("span",{class:"required"},"*")],-1),X={class:"group-between"},Y={class:"group-input"},Z=e("div",{class:"name"},"รายละเอียด",-1),$=e("div",{class:"line"},null,-1),ee={class:"group-footer"},te={class:"footer-left"},oe=e("img",{src:A,alt:"times-circle",class:"icon-times-circle"},null,-1),se={class:"footer-right"},ae={type:"submit",class:"button-success"},ie=e("img",{src:L,alt:"times-circle",class:"icon-check-circle"},null,-1);function le(t,o,n,de,s,c){const r=l("cpn-input"),p=l("cpn-toggleSwitch"),u=l("cpn-select"),m=l("cpn-textArea"),h=l("Form"),g=l("cpn-modal-alert"),b=l("cpn-loading");return w(),V("div",C,[e("div",M,[e("div",q,[e("div",U,[e("div",E,[B,e("div",D,_(s.edit?"แก้ไขชนิดหนังสือ":"สร้างชนิดหนังสือ"),1)]),e("div",I,[e("button",{type:"button",class:"button-back",onClick:o[0]||(o[0]=a=>c.back())},[N,P,d(" ย้อนกลับ ")])])]),F,i(h,{onSubmit:c.onSubmit,onInvalidSubmit:t.onInvalidSubmit},{default:S(()=>[e("div",j,[e("div",T,[e("div",z,[G,i(r,{modelValue:s.data.code,"onUpdate:modelValue":o[1]||(o[1]=a=>s.data.code=a),name:"department_id",rules:"required",placeholder:"กรุณาระบุ"},null,8,["modelValue"])]),e("div",H,[J,i(p,{modelValue:s.data.activate,"onUpdate:modelValue":o[2]||(o[2]=a=>s.data.activate=a),name:"activate",disabled:!1,onChange:t.change},null,8,["modelValue","onChange"])])]),e("div",K,[e("div",O,[Q,i(r,{modelValue:s.data.book_type_name,"onUpdate:modelValue":o[3]||(o[3]=a=>s.data.book_type_name=a),name:"book_type_name",rules:"required",placeholder:"กรุณาระบุ"},null,8,["modelValue"])]),e("div",R,[W,i(u,{modelValue:s.data.book_type_record,"onUpdate:modelValue":o[4]||(o[4]=a=>s.data.book_type_record=a),name:"book_type_record",optionSelect:s.data.optionSelect.book_type_record,placeholder:"กรุณาระบุ"},null,8,["modelValue","optionSelect"])])]),e("div",X,[e("div",Y,[Z,i(m,{modelValue:s.data.description,"onUpdate:modelValue":o[5]||(o[5]=a=>s.data.description=a),name:"book-type_description",class:"",style:{},rows:"4",placeholder:"กรุณาระบุ"},null,8,["modelValue"])])])]),$,e("div",ee,[e("div",te,[e("button",{type:"button",class:"button-danger",onClick:o[6]||(o[6]=a=>c.cancelClick())},[oe,d(" ยกเลิก ")])]),e("div",se,[e("button",ae,[ie,d(" "+_(s.edit?"ยืนยันแก้ไขชนิดหนังสือ":"ยืนยันสร้างชนิดหนังสือ"),1)])])])]),_:1},8,["onSubmit","onInvalidSubmit"])])]),i(g,{modalAlert:s.modalAlert},null,8,["modalAlert"]),i(b,{show:s.showLoading},null,8,["show"])])}const re=f(x,[["render",le]]);export{re as default};
