import{_ as V}from"./users-cog-duotone-50670cb2.js";import{_ as w,r as d,o as c,c as _,a as t,b as l,d as k,F as C,h as D,i as U,e as S,j as h,t as i}from"./index-714135ea.js";const g="/assets/envelope-solid-83ddb2ac.svg",L="/assets/share-from-square-solid-59b40d2c.svg";const A={name:"mail-manage-inex",data(){return{modalAlert:{showModal:!1,title:"",message:""},showLoading:!1,data:{search:"",table:[],page:1,total:0,lastPage:0,perPage:10,department_full_name:"Test"}}},methods:{sendmailClick(a){this.$router.push({name:"automail-sendmail-edit",params:{id:a.id},query:{page:this.data.page,perPage:this.data.perPage}}).catch(()=>{})},listClick(a){this.$router.push({name:"automail-sendmail-list",params:{id:a.id},query:{page:this.data.page,perPage:this.data.perPage}}).catch(()=>{})},pageChange(a){this.data.perPage=a.perPage,this.data.page=a.page,this.apiUser()},search(){this.data.status=!0,this.data.perPage=10,this.data.page=1,this.apiUser()},apiSendmailLogs(){this.data.table=[],this.showLoading=!0,this.axios.get("/master-data/department-contact",{params:{mail_register:this.data.mail_register,mail_number_out:this.data.mail_number_out,mail_speed:this.data.mail_speed,mail_title:this.data.mail_title,mail_division:this.data.mail_division,mail_to:this.data.mail_to,mail_date_st:this.data.mail_date_st,mail_send_to:this.data.mail_send_to,mail_send_cc:this.data.mail_send_cc,mail_send_bcc:this.data.mail_send_bcc,mail_date_send:this.data.mail_date_send,page_size:this.data.perPage,page:this.data.page}}).then(a=>{this.showLoading=!1,a.data.data.meta.filter(s=>s.disabled=!0),this.data.table=a.data.data.meta,this.data.total=a.data.data.total,this.data.lastPage=Math.ceil(this.data.total/this.data.perPage)}).catch(a=>{this.showLoading=!1,this.modalAlert={showModal:!0,type:"error",title:"Error",message:a.response.data.message}})}},mounted(){var a,s;this.data.page=((a=this.$route.query)==null?void 0:a.page)||this.data.page,this.data.perPage=((s=this.$route.query)==null?void 0:s.perPage)||this.data.perPage,this.apiUser()}},K={class:"mail-inex"},q={class:"group-overflow"},N={class:"detail"},T=S('<div class="group-head"><div class="group-first"><img src="'+V+'" alt="" class="icon-users-cog"><div class="name">รายการหนังสือส่งออก ที่ส่งผ่านอีเมลอัตโนมัติ</div></div></div><div class="line"></div>',2),F={class:"group-detail"},M={class:"group-between"},x={class:"group-input left"},B=t("div",{class:"name"},"ทะเบียน ",-1),I={class:"group-input"},O=t("div",{class:"name"},"เลขออก สลค.",-1),E={class:"group-between"},j={class:"group-input"},z=t("div",{class:"name"},"เรื่อง",-1),G={class:"group-between"},H={class:"group-input left"},J=t("div",{class:"name"},"จาก",-1),Q={class:"group-input"},R=t("div",{class:"name"},"ถึง",-1),W={class:"group-between"},X={class:"group-input left"},Y=t("div",{class:"name"},"จากวันที่",-1),Z={class:"group-input"},$=t("div",{class:"name"},"ถึงวันที่",-1),tt={class:"group-button"},et={class:"button-left"},at=t("i",{class:"bi bi-arrow-clockwise icon-clockwise"},null,-1),st=t("div",{class:"button-right"},[t("button",{type:"submit",class:"button-search"},[t("i",{class:"bi bi-search icon-search"}),h(" ค้นหา ")])],-1),ot={class:"group-body"},lt={class:"table-department-inex"},dt=t("thead",{class:"thead"},[t("tr",{class:"thead-row"},[t("th",{class:"col1"},"ลำดับ"),t("th",{class:"col2"},"ความเร่งด่วน"),t("th",{class:"col3"},"ชั้นความลับ"),t("th",{class:"col4"},"เลขออก สลค."),t("th",{class:"col5"},"ทะเบียนหนังสือ"),t("th",{class:"col6"},"ชื่อเรื่อง"),t("th",{class:"col7"},"ชนิดหนังสือ"),t("th",{class:"col8"},"ลงวันที่"),t("th",{class:"col9"},"จาก"),t("th",{class:"col10"},"ถึง"),t("th",{class:"col11"},[t("img",{src:g,alt:"",class:"icon-send"})])])],-1),it={class:"tbody"},nt={class:"col1"},ct={class:"col2"},_t=t("td",{class:"col3"},[t("div",{class:"new-line"},[t("div",{class:"name"},"ส่งถึง (TO)")])],-1),rt={class:"col4"},pt={class:"col5"},mt=t("td",{class:"col6"},[t("div",{class:"new-line"},[t("div",{class:"name"},"ส่งถึง (TO)")])],-1),ut={class:"col7"},ht={class:"col8"},gt=t("td",{class:"col9"},[t("div",{class:"new-line"},[t("div",{class:"name"},"ส่งถึง (TO)")])],-1),vt={class:"col10"},bt={class:"col11"},ft={class:"group-icon"},yt=["onClick"],Pt=["onClick"],Vt={key:0,class:"tbody-row"},wt=t("td",{colspan:"12"},"ไม่มีข้อมูล",-1),kt=[wt],Ct={class:"group-footer"};function Dt(a,s,Ut,St,e,r){const p=d("cpn-autoComplete"),m=d("cpn-input"),u=d("cpn-datepicker"),v=d("Form"),b=d("cpn-pagination"),f=d("cpn-modal-alert"),y=d("cpn-loading");return c(),_("div",K,[t("div",q,[t("div",N,[T,l(v,{onSubmit:a.apiMailAddress,onInvalidSubmit:a.onInvalidSubmit},{default:k(()=>[t("div",F,[t("div",M,[t("div",x,[B,l(p,{modelValue:e.data.registertype,"onUpdate:modelValue":s[0]||(s[0]=o=>e.data.registertype=o),name:"registertype",onKeyupData:a.keyupData,placeholder:"กรุณาระบุ"},null,8,["modelValue","onKeyupData"])]),t("div",I,[O,l(m,{modelValue:e.data.document_number,"onUpdate:modelValue":s[1]||(s[1]=o=>e.data.document_number=o),name:"document_number",placeholder:"กรุณาระบุ"},null,8,["modelValue"])])]),t("div",E,[t("div",j,[z,l(m,{modelValue:e.data.name,"onUpdate:modelValue":s[2]||(s[2]=o=>e.data.name=o),name:"name",placeholder:"กรุณาระบุ"},null,8,["modelValue"])])]),t("div",G,[t("div",H,[J,l(p,{modelValue:e.data.send_from,"onUpdate:modelValue":s[3]||(s[3]=o=>e.data.send_from=o),name:"send_from",onKeyupData:a.keyupData,placeholder:"กรุณาระบุ"},null,8,["modelValue","onKeyupData"])]),t("div",Q,[R,l(p,{modelValue:e.data.send_to,"onUpdate:modelValue":s[4]||(s[4]=o=>e.data.send_to=o),name:"send_to",onKeyupData:a.keyupData,placeholder:"เลือกหน่วยงานปลายทาง"},null,8,["modelValue","onKeyupData"])])]),t("div",W,[t("div",X,[Y,l(u,{modelValue:e.data.start_date,"onUpdate:modelValue":s[5]||(s[5]=o=>e.data.start_date=o),name:"start_date",placeholder:"กรุณาระบุ"},null,8,["modelValue"])]),t("div",Z,[$,l(u,{modelValue:e.data.end_date,"onUpdate:modelValue":s[6]||(s[6]=o=>e.data.end_date=o),name:"end_date",placeholder:"กรุณาระบุ"},null,8,["modelValue"])])]),t("div",tt,[t("div",et,[t("button",{type:"button",class:"button-warning",onClick:s[7]||(s[7]=o=>a.cancelClick())},[at,h(" ล้างการค้นหา ")])]),st])])]),_:1},8,["onSubmit","onInvalidSubmit"]),t("div",ot,[t("table",lt,[dt,t("tbody",it,[(c(!0),_(C,null,D(e.data.table,(o,n)=>(c(),_("tr",{class:"tbody-row",key:n},[t("td",nt,i(n+1+e.data.perPage*(e.data.page-1)),1),t("td",ct,i(e.data.department_full_name),1),_t,t("td",rt,i(n+1+e.data.perPage*(e.data.page-1)),1),t("td",pt,i(e.data.department_full_name),1),mt,t("td",ut,i(n+1+e.data.perPage*(e.data.page-1)),1),t("td",ht,i(e.data.department_full_name),1),gt,t("td",vt,i(e.data.department_full_name),1),t("td",bt,[t("div",ft,[t("img",{onClick:P=>r.listClick(o),src:L,alt:"",class:"icon-send pointer"},null,8,yt),t("img",{onClick:P=>r.sendmailClick(o),src:g,alt:"",class:"icon-send pointer"},null,8,Pt)])])]))),128)),e.data.table.length==0?(c(),_("tr",Vt,kt)):U("",!0)])])]),t("div",Ct,[l(b,{page:e.data.page,total:e.data.total,lastPage:e.data.lastPage,perPage:e.data.perPage,onPageChange:r.pageChange},null,8,["page","total","lastPage","perPage","onPageChange"])])])]),l(f,{modalAlert:e.modalAlert},null,8,["modalAlert"]),l(y,{show:e.showLoading},null,8,["show"])])}const Kt=w(A,[["render",Dt]]);export{Kt as default};
